<h2>Réstituer un Transfert National</h2>
<h5>Vueillez assurer le processus suivant ! </h5>
<div style="background-color: white; margin-top: 30px; height: 70px; padding-top:10px;">
<p-steps [model]="geeks" 
    [(activeIndex)]="steps" [readonly]="true">
</p-steps>
</div>
<br />
<form #f="ngForm" (ngSubmit)="onSubmit()">

    <div *ngIf="steps == 0" style="text-align:center;margin: 30px;" >
        <div class="p-field">
            <h5 style="margin: 20px;">Vueillez selectionner la réference du transfert :</h5>
            <label style="margin: 10px;" for="fieldId">Réference de la transaction</label>
            <input style="margin: 10px;" type="text" required  pInputText [(ngModel)]="reference" name="reference"/>
        </div>
        <div class="btn_center">
            <p-button class="btn_center" label="Rechercher" name="rechercher"></p-button>
        </div>
    </div>

    <div *ngIf="steps == 0" style="margin: 30px;">
        <p-table [value]="products" styleClass="p-datatable-gridlines" responsiveLayout="scroll">
            <ng-template pTemplate="caption">
                Information du donneur d'ordre
            </ng-template>
            <ng-template pTemplate="header">
                <tr>
                    <th>ID Agent</th>
                    <th>Wallet Cleint</th>
                    <th>Nom & Prénom</th>
                    <th>Date d'émission</th>
                </tr>
            </ng-template>
            <ng-template pTemplate="body" let-product>
                <tr>
                    <td>{{product.code}}</td>
                    <td>{{product.name}}</td>
                    <td>{{product.category}}</td>
                    <td>{{product.quantity}}</td>
                </tr>
            </ng-template>
            <!-- <ng-template pTemplate="summary">
                Footer
            </ng-template> -->
        </p-table>
    </div>
    <div *ngIf="steps == 0" style="margin: 30px;">
        <p-table [value]="products" styleClass="p-datatable-gridlines" responsiveLayout="scroll">
            <ng-template pTemplate="caption">
                Information de l'opération de transfert
            </ng-template>
            <ng-template pTemplate="header">
                <tr>
                    <th>Montant à servir</th>
                    <th>Frais du transfert</th>
                    <th>Prénom du bénéficiaire</th>
                    
                </tr>
            </ng-template>
            <ng-template pTemplate="body" let-product>
                <tr>
                    <td>{{product.code}}</td>
                    <td>{{product.name}}</td>
                    <td>{{product.category}}</td>
                    
                </tr>
            </ng-template>
            <!-- <ng-template pTemplate="summary">
                Footer
            </ng-template> -->
        </p-table>
    </div>

    <div *ngIf="steps == 1" style="text-align:center; margin-bottom:30px;">
        <h5 style="margin: 20px;">En vue d'extourner le transfert, Vueillez selection le motif :</h5>
      
        <div style="margin: 20px;" class="p-field">
          <label for="fieldId" style="margin: 10px;">Motif</label>
          <p-dropdown [options]="motifs" [(ngModel)]="selectedTransfertType" name="frais" optionLabel="name" optionValue="code" optionDisabled="active" placeholder="Sélectionner"></p-dropdown>
        </div>
    
        <div *ngIf="selectedTransfertType == 15" class="p-field">
            <h5 style="margin: 20px;">Vueillez selection votre propre motif :</h5>
          <label style="margin: 10px;" for="fieldId">Motif</label>
          <input type="text" pInputText [(ngModel)]="identity" name=""/>
        </div>
      </div>


    <div>
        
    </div>
    <div>
        <button *ngIf="steps != 0" (click) = "onBack()"  style="justify-content: right;" pButton pRipple type="button" label="Retour" class="p-button-warning"></button>
        <button style="margin-left: 8px;" *ngIf="steps < 2" pButton pRipple type="submit" label="Suivant" class="p-button-success"></button>
        <button style="margin-left: 8px;" *ngIf="steps >= 2" pButton type="submit" label="Submit" class="p-button-help"></button>
    </div>
</form>